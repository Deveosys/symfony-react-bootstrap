{% extends 'security/security-base.html.twig' %}

{% form_theme registrationForm _self %}

{% block title %}Inscription
{% endblock %}

{% block securityForm %}

	<h2>Inscription</h2>

	<div class="shadow py-4 px-3 mb-3 mt-4 bg-white rounded-lg" style="width: 18rem;">
		{{ form_start(registrationForm) }}

		<fieldset>
			{# EMAIL #}
			<div
				class="md-input">
				{# <input type="text" value="{{ last_username }}" name="email" id="inputEmail" required="required" autofocus="autofocus"> #}
				{{ form_widget(registrationForm.displayName,{"class" : "md-form-control"} ) }}
				<span class="highlight"></span>
				<span class="bar"></span>
				<label>Username</label>
			</div>
			<div class="text-danger">
				{{ form_errors(registrationForm.displayName) }}
			</div>

			<div
				class="md-input">
				{# <input type="text" value="{{ last_username }}" name="email" id="inputEmail" required="required" autofocus="autofocus"> #}
				{{ form_widget(registrationForm.email,{"class" : "md-form-control"} ) }}
				<span class="highlight"></span>
				<span class="bar"></span>
				<label>Email</label>
			</div>
			<div class="text-danger">
				{{ form_errors(registrationForm.email) }}
			</div>

			<div
				class="md-input">
				{# <input type="text" value="{{ last_username }}" name="email" id="inputEmail" required="required" autofocus="autofocus"> #}
				{{ form_widget(registrationForm.plainPassword,{"class" : "md-form-control"} ) }}
				<span class="highlight"></span>
				<span class="bar"></span>
				<label>Password</label>
			</div>
			<div class="text-danger">
				{{ form_errors(registrationForm.plainPassword) }}
			</div>
		</fieldset>

		<div class="uk-margin">
			<button type="submit" class="btn btn-primary btn-block">Inscription</button>
		</div>

		{{ form_end(registrationForm) }}

	</div>

	<a href="{{ path('app_login')}}">Déjà inscrit ? Connecte toi!</a>
{% endblock %}
{% block form_errors %}
	{% if errors | length > 0 %}
		{% if compound %}
			{# ... display the global form errors #}
			<ul>
				{% for error in errors %}
					<li>{{ error.message }}</li>
				{% endfor %}
			</ul>
		{% else %}
			{% for error in errors %}
				<p class="text-danger">
					-
					{{ error.message }}
				</p>
			{% endfor %}
		{% endif %}
	{% endif %}
{% endblock form_errors %}
